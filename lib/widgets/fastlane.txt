Install/Updates
===============

Before using fastlane - make sure you have the latest version

sudo gem install fastlane

Creating Apps
===============
Create apps through the developer portal. Remember to enable services such as push notifications if needed.


Generating push notification certificates
===============
fastlane pem -development —generate_p12 --force -u support@eminenttechnology.com -p "time2PRAY" -b 9DPT62GHB3 -a org.second.bestill.local -o "bestill.local.sandbox.pem"
fastlane pem —generate_p12 --force -u support@eminenttechnology.com -p "time2PRAY" -b 9DPT62GHB3 -a org.second.bestill.local -o "bestill.local.pem"
fastlane pem —generate_p12 --force -u support@eminenttechnology.com -p "time2PRAY" -b 9DPT62GHB3 -a org.second.bestill.dev -o "bestill.dev.pem"
fastlane pem —generate_p12 --force -u support@eminenttechnology.com -p "time2PRAY" -b 9DPT62GHB3 -a org.second.bestill.test -o "bestill.test.pem"
fastlane pem —generate_p12 --force -u support@eminenttechnology.com -p "time2PRAY" -b 9DPT62GHB3 -a org.second.bestill.prod -o "bestill.prod.pem"
fastlane pem —generate_p12 --force -u support@eminenttechnology.com -p "time2PRAY" -b 9DPT62GHB3 -a org.second.bestill.v2 -o "bestill.pem"

--force is not required and typically should only be used if you need certificate generated and the previously generated certificate has not yet expired.
-p is the password set on the p12 file
-o is the name of the pem file - also used for the p12 file
-development is used to generate a certificate that works with APNS sandbox

NOTE - APNS has a sandbox and production environment. Generally our adhoc builds use production environment and our local builds use both environment depending on the type of dev/test we are doing
fastlane pem —development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.unit
fastlane pem —development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.local
fastlane pem —development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.dev
fastlane pem —development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.test

Generating signing certificates and provisioning profiles
===============
git:
https://pochu@bitbucket.org/secondbaptist/secondcerts.git

playbook dev - local developent
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.mock
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.unit
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.local
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.dev
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.test

playbook adhoc - appcenter
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.mock
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.unit
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.dev
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.test
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.prod

playbook store
fastlane match appstore -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead

bestill dev - local
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.bestill.local
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.bestill.dev
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.bestill.test

bestill adhoc -appcenter
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.bestill.dev
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.bestill.test
fastlane match adhoc -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.bestill.prod

be still store
fastlane match appstore -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.bestill.v2
——
to add new devices run the above code with force_for_new_devices

eg
fastlane match development -u support@eminenttechnology.com -b 9DPT62GHB3 -a org.second.lead.mock  —force_for_new_devices


download all adhoc provisioning profiles and upload to source control provider:
eg local repo path: /Users/PhilOchu/Sandbox/leadapp/
relative repo path: build/Certificates/iOS/Distribution/
profiles:
match_AdHoc_orgsecondleaddev.mobileprovision
*.mobileprovision
second-distribution-cert.p12

export your certificates using keychain access tool -  use password time2PRAY

issue new builds

what the actions means
development is to allow developers to build/debug on their local devices tied to approved machines
adhoc - is to allow non developer machines - typically testers access to builds using an internal store like AppCenter
appstore - is used for builds pushed to the app store
--force_for_new_devices - sometimes has to be used to regenerate a new profile that exists and has not expired but is missing a new device

NOTE - App Center now has a feature that will automatically update certificates with new devices added to them - very useful for managing new testers being added - highly recommend it
